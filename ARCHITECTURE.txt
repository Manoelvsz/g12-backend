â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           ARQUITETURA COMPLETA - FEED DE CONTEÃšDO (PIBB G12)                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APLICAÃ‡ÃƒO MOBILE (React Native)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  app/index.tsx (FeedScreen)                                               â”‚
â”‚  â”œâ”€ Imports: useFeedPosts hook, FeedList component                        â”‚
â”‚  â””â”€ Renderiza:                                                            â”‚
â”‚     â”œâ”€ Header com nome do usuÃ¡rio                                         â”‚
â”‚     â”œâ”€ VÃ­deo YouTube                                                      â”‚
â”‚     â”œâ”€ Grid de Eventos                                                    â”‚
â”‚     â””â”€ ğŸ¯ FEED DE POSTS (Nova seÃ§Ã£o)                                      â”‚
â”‚        â”‚                                                                  â”‚
â”‚        â”œâ”€ FeedList Component                                              â”‚
â”‚        â”‚  â”œâ”€ useFeedPosts Hook â†’ { posts, loading, error, retry }        â”‚
â”‚        â”‚  â””â”€ Estados:                                                     â”‚
â”‚        â”‚     â”œâ”€ Loading: ActivityIndicator + "Carregando posts..."       â”‚
â”‚        â”‚     â”œâ”€ Error: "âš ï¸ Erro ao carregar" + botÃ£o Retry               â”‚
â”‚        â”‚     â”œâ”€ Empty: "ğŸ“­ Nenhum post disponÃ­vel"                       â”‚
â”‚        â”‚     â””â”€ Success: FlatList de posts                                â”‚
â”‚        â”‚        â””â”€ Cada item: FeedCard Component                          â”‚
â”‚        â”‚           â”œâ”€ Imagem destaque (opcional)                          â”‚
â”‚        â”‚           â”œâ”€ TÃ­tulo em negrito                                   â”‚
â”‚        â”‚           â”œâ”€ Data formatada (DD/MM/YYYY HH:mm)                  â”‚
â”‚        â”‚           â”œâ”€ ConteÃºdo truncado (150 chars + "...")              â”‚
â”‚        â”‚           â””â”€ BotÃ£o "Ler mais â†’"                                 â”‚
â”‚        â”‚                                                                  â”‚
â”‚        â””â”€ Estilo: Theme.ts colors (COLORS, SPACING, RADIUS)             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â¬‡ï¸ HTTP GET /posts
                         (axios via apiClient)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SERVIÃ‡O API (Axios Client)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  src/shared/service/api/                                                  â”‚
â”‚  â”œâ”€ client.ts â†’ baseURL: http://localhost:3000                            â”‚
â”‚  â”‚              (ConfiguraÃ§Ã£o automÃ¡tica por plataforma)                   â”‚
â”‚  â””â”€ posts.api.ts â†’ MÃ©todos HTTP                                          â”‚
â”‚     â”œâ”€ getAll() â†’ GET /posts                                              â”‚
â”‚     â”œâ”€ getById(id) â†’ GET /posts/:id                                       â”‚
â”‚     â”œâ”€ create(data) â†’ POST /posts                                         â”‚
â”‚     â”œâ”€ update(id, data) â†’ PUT /posts/:id                                  â”‚
â”‚     â””â”€ delete(id) â†’ DELETE /posts/:id                                     â”‚
â”‚                                                                             â”‚
â”‚  Hook: useFeedPosts.ts                                                     â”‚
â”‚  â”œâ”€ Chama: postsAPI.getAll()                                              â”‚
â”‚  â”œâ”€ Estados: { posts, loading, error, retry }                            â”‚
â”‚  â”œâ”€ useCallback: fetchPosts() â†’ API call                                  â”‚
â”‚  â””â”€ useEffect: Executa fetchPosts ao montar                               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â¬‡ï¸ TCP/IP Port 3000
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SERVIDOR BACKEND (NestJS)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  app.module.ts                                                            â”‚
â”‚  â”œâ”€ Imports: PostsModule + outros mÃ³dulos                                 â”‚
â”‚  â””â”€ Registra: PostsController, PostsService                               â”‚
â”‚                                                                             â”‚
â”‚  src/posts/ Module                                                         â”‚
â”‚  â”œâ”€ posts.module.ts                                                       â”‚
â”‚  â”‚  â””â”€ imports: [PrismaModule]                                            â”‚
â”‚  â”‚  â””â”€ controllers: [PostsController]                                     â”‚
â”‚  â”‚  â””â”€ providers: [PostsService]                                          â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â”œâ”€ posts.controller.ts                                                   â”‚
â”‚  â”‚  â”œâ”€ @Controller('posts') decorator                                     â”‚
â”‚  â”‚  â”œâ”€ @Get() â†’ findAll() â†’ Listar posts                                 â”‚
â”‚  â”‚  â”œâ”€ @Get(':id') â†’ findOne(id)                                         â”‚
â”‚  â”‚  â”œâ”€ @Post() â†’ create(dto) [Admin]                                     â”‚
â”‚  â”‚  â”œâ”€ @Put(':id') â†’ update(id, dto) [Admin]                             â”‚
â”‚  â”‚  â””â”€ @Delete(':id') â†’ remove(id) [Admin]                               â”‚
â”‚  â”‚     â””â”€ ValidationPipe: Valida DTOs automaticamente                     â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â”œâ”€ posts.service.ts                                                      â”‚
â”‚  â”‚  â”œâ”€ Injeta: PrismaService                                              â”‚
â”‚  â”‚  â”œâ”€ MÃ©todos:                                                           â”‚
â”‚  â”‚  â”‚  â”œâ”€ create(dto)                                                     â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ await prisma.post.create({ data })                          â”‚
â”‚  â”‚  â”‚  â”‚                                                                  â”‚
â”‚  â”‚  â”‚  â”œâ”€ findAll()                                                       â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ await prisma.post.findMany({                                â”‚
â”‚  â”‚  â”‚  â”‚     where: { published: true },                                  â”‚
â”‚  â”‚  â”‚  â”‚     orderBy: { createdAt: 'desc' }                               â”‚
â”‚  â”‚  â”‚  â”‚  })                                                              â”‚
â”‚  â”‚  â”‚  â”‚                                                                  â”‚
â”‚  â”‚  â”‚  â”œâ”€ findOne(id)                                                     â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ await prisma.post.findUnique({ where: { id } })            â”‚
â”‚  â”‚  â”‚  â”‚                                                                  â”‚
â”‚  â”‚  â”‚  â”œâ”€ update(id, dto)                                                â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ await prisma.post.update({ where: { id }, data })          â”‚
â”‚  â”‚  â”‚  â”‚                                                                  â”‚
â”‚  â”‚  â”‚  â””â”€ remove(id)                                                      â”‚
â”‚  â”‚  â”‚     â””â”€ await prisma.post.delete({ where: { id } })                â”‚
â”‚  â”‚  â”‚                                                                     â”‚
â”‚  â”‚  â””â”€ Tratamento: Try/catch + exceÃ§Ãµes NestJS                            â”‚
â”‚  â”‚                 (NotFoundException, InternalServerErrorException)      â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â””â”€ dto/                                                                  â”‚
â”‚     â”œâ”€ create-post.dto.ts                                                â”‚
â”‚     â”‚  â”œâ”€ @IsString() title: string (3-255 chars, optional)              â”‚
â”‚     â”‚  â”œâ”€ @IsNotEmpty() @IsString() content: string (5+ chars)           â”‚
â”‚     â”‚  â””â”€ @IsString() imageUrl: string (optional)                        â”‚
â”‚     â”‚                                                                     â”‚
â”‚     â””â”€ update-post.dto.ts (PartialType de CreatePostDto)                 â”‚
â”‚        â””â”€ Todos os campos opcionais para update                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â¬‡ï¸ Prisma ORM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BANCO DE DADOS (PostgreSQL)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  prisma/schema.prisma                                                      â”‚
â”‚  â”œâ”€ datasource: PostgreSQL (Supabase)                                      â”‚
â”‚  â”œâ”€ model Post {                                                          â”‚
â”‚  â”‚   id        String   @id @default(uuid())  â† Primary Key UUID         â”‚
â”‚  â”‚   title     String?  â† TÃ­tulo opcional                                â”‚
â”‚  â”‚   content   String   @db.Text â† Texto longo                          â”‚
â”‚  â”‚   imageUrl  String?  â† URL imagem destaque                            â”‚
â”‚  â”‚   published Boolean  @default(true) â† Flag visibilidade              â”‚
â”‚  â”‚   createdAt DateTime @default(now()) â† Timestamp auto                â”‚
â”‚  â”‚   updatedAt DateTime @updatedAt â† Timestamp atualizaÃ§Ã£o              â”‚
â”‚  â”‚  }                                                                     â”‚
â”‚  â”‚                                                                        â”‚
â”‚  â””â”€ Migration: 20251228_create_posts_table/migration.sql                â”‚
â”‚     â””â”€ CREATE TABLE posts (...)                                          â”‚
â”‚                                                                             â”‚
â”‚  Seed: prisma/seed.ts                                                     â”‚
â”‚  â””â”€ Popula com 5 posts mockados:                                         â”‚
â”‚     â”œâ”€ ğŸ™ Culto de CelebraÃ§Ã£o - Domingo                                   â”‚
â”‚     â”œâ”€ ğŸ“š Estudo BÃ­blico - G12                                            â”‚
â”‚     â”œâ”€ ğŸ“ Universidade Crista                                             â”‚
â”‚     â”œâ”€ ğŸ¤ Conectando-se - Mapa de CÃ©lulas                                â”‚
â”‚     â””â”€ âœ¨ Eventos Especiais Este MÃªs                                      â”‚
â”‚                                                                             â”‚
â”‚  Comando: npx prisma db seed                                              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          FLUXO DE DADOS (REQUEST)                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                               â•‘
â•‘  1. App carrega index.tsx (FeedScreen)                                       â•‘
â•‘  2. Component monta â†’ useEffect em useFeedPosts hook                         â•‘
â•‘  3. useEffect chama: fetchPosts()                                            â•‘
â•‘  4. fetchPosts() chamada: postsAPI.getAll()                                  â•‘
â•‘  5. postsAPI.getAll() faz: apiClient.get('/posts')                           â•‘
â•‘  6. Axios envia: GET http://localhost:3000/posts                             â•‘
â•‘  7. NestJS recebe â†’ PostsController.findAll()                                â•‘
â•‘  8. PostsService.findAll() querya: prisma.post.findMany(...)                â•‘
â•‘  9. Prisma traduz para SQL: SELECT * FROM posts WHERE published=true...      â•‘
â•‘  10. PostgreSQL retorna: [Post[], Post[], ...]                               â•‘
â•‘  11. NestJS retorna JSON: { status, message, data, count }                   â•‘
â•‘  12. Axios parseia response.data.data                                        â•‘
â•‘  13. Hook setState({ posts, loading: 'success' })                            â•‘
â•‘  14. Component re-render com posts                                           â•‘
â•‘  15. FeedList renderiza FlatList                                             â•‘
â•‘  16. FlatList renderiza cada item com FeedCard                               â•‘
â•‘  17. UsuÃ¡rio vÃª feed de posts!                                               â•‘
â•‘                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
